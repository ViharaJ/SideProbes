# SideProbes

## Procedure
### 1. Extraction from Volume Graphics
1.	Create ROI on the surface of interest
2.	**File->Export Multiple/Aligned Volumes**
    1.	Select reasonable scale 
    1.	Choose destination folder 
        1.	Naming convention: Hantel14-16bit-u-0.00277-<sliceNum>.tif
            -	Everything is separated by ‘-‘
            -	Probe,
            -	Bits used
            -	Unsigned or signed 
            -	Scale
            -	sliceNum will be generated by VGStudio

### 2. Fiji Routine (Getting the profile)
1.  Save the macro in the *macros* folder of ImageJ/Fiji
1.  Open the macro and change the following variables: 
    ```
    sourcePath = ""; //folder containing subfolders of the images
    subFolders_ofInterest = newArray("Probe09", "Probe10", "Probe11", "Probe12");
    savePath = ""; //save directory
    ```
1.	Once the process is finished, manually go through the images and delete any with porous cavities. The surface roughness script will try its best to analyze and disregard pictures that aren’t suitable but it's not perfect.

**How it works:**  
5 subfolders are created inside the directory specificed in savePath. They are for the Inner Surface and the 4 splices of the outer skin: upskin, sideskin (left), sideskin (right) and downskin

Process:

1. binarizes the image
1. Finds the contour 
1. Splits the inner and outer skins into two images
1. Removes any powder particles (non-connected components)
1. Splice the outer skin into 4 components. New images are created
1. Save each image to the appropriate directory 

### 3. Run Python Script:

**How it works:**

1.	Find the longest contour in image
2.	Finds the leftmost pixel in the image 
3.	Recreate contour such that duplicate points are removed 
    1.	Currently, if the next closes vertex to the current point is more than 5 pixels away, we stop recreating the contour and break out of the routine 
4.	If the new contour is about 95% the contour (unique vertices only), compute the roughness 
